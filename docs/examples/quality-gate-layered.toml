# Example quality-gate.toml for Layered Architecture
# This configuration enforces strict layer separation

[architecture]
# Enable architecture checks
enabled = true
enforce_layer_separation = true

# Define allowed import directions (outer layers can import inner layers)
# Format: "destination <- source" (source can import destination)
allowed_layer_imports = [
    "domain <- application",
    "domain <- infrastructure",
    "domain <- presentation",
    "application <- infrastructure",
    "application <- presentation",
    "infrastructure <- presentation",
]

# Define forbidden import directions (inner layers cannot import outer)
# Format: "source -> destination" (forbidden)
forbid_violations = [
    "infrastructure -> domain",
    "presentation -> domain",
    "presentation -> application",
]

[complexity]
enabled = true
max_cc = 10
max_average_cc = 5

[file_size]
enabled = true
max_lines = 200
max_imports = 20
max_functions = 15

[type_hints]
enabled = true
require_return_types = true
require_param_types = true
strict_mode = true
allow_implicit_any = false

[error_handling]
enabled = true
forbid_bare_except = true
forbid_bare_raise = true
forbid_pass_with_except = true
require_explicit_errors = true

[coverage]
enabled = true
minimum = 80
fail_under = 80
exclude_patterns = [
    "*/tests/*",
    "*/test_*.py",
    "*/__pycache__/*",
]
